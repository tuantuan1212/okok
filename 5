local HttpService = game:GetService("HttpService")
local lp = game:GetService("Players").LocalPlayer

-- üîπ L·∫•y IP t·ª´ server Python
local function getServerIP()
    local success, result = pcall(function()
        return HttpService:GetAsync("http://192.168.1.10:5001/get-ip")
    end)
    if success then
        local data = HttpService:JSONDecode(result)
        return data.ip
    end
    return "192.168.1.10" -- D·ª± ph√≤ng
end

local serverIP = getServerIP()
local serverUrl = "http://" .. serverIP .. ":5000/data"
print("üìå Server URL:", serverUrl)

local function getData()
    local stats = lp:FindFirstChild("leaderstats")
    return {
        Username = lp.Name,
        UserID = lp.UserId,
        Level = stats and stats:FindFirstChild("Level") and stats.Level.Value or 0,
        Beli = stats and stats:FindFirstChild("Beli") and stats.Beli.Value or 0,
        Fragments = stats and stats:FindFirstChild("Fragments") and stats.Fragments.Value or 0,
        DevilFruit = lp:FindFirstChild("DevilFruit") and lp.DevilFruit.Value or "None"
    }
end

while true do
    local jsonData = HttpService:JSONEncode(getData())
    pcall(function() HttpService:PostAsync(serverUrl, jsonData, Enum.HttpContentType.ApplicationJson) end)
    print("[‚úÖ] ƒê√£ g·ª≠i d·ªØ li·ªáu v·ªÅ m√°y t√≠nh!")
    wait(10)
end
